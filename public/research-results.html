<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Research Results</title>
  <link rel="stylesheet" href="styles/tw.build.css">
  <style>
    html, body { height: 100%; }
    body { font-family: Poppins, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    .container { max-width: 1200px; margin: 0 auto; padding: 24px; }
    .card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 16px; }
    .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 16px; }
    .col-6 { grid-column: span 6; }
    .col-12 { grid-column: span 12; }
    canvas { width: 100%; height: 320px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { border-bottom: 1px solid #eee; padding: 8px; text-align: left; font-size: 12px; }
  </style>
  <script>window.RESEARCH_RESULTS = true;</script>
</head>
<body class="bg-white text-[#2c1f1c]">
  <main class="container">
    <div class="flex items-center justify-between mb-4">
      <img src="Br-ndLogo.webp" alt="BR-ND People" style="height:48px; width:auto;" />
      <h1 class="text-2xl font-semibold">Research Results</h1>
      <img src="23plusone.png" alt="23plusone" style="height:22px; width:auto;" />
    </div>
    <div class="grid">
      <div class="col-6">
        <div class="card">
          <h2 class="text-lg font-semibold mb-2">WHO‑5 Distribution</h2>
          <canvas id="who5Chart"></canvas>
        </div>
      </div>
      <div class="col-6">
        <div class="card">
          <h2 class="text-lg font-semibold mb-2">SWLS Distribution</h2>
          <canvas id="swlsChart"></canvas>
        </div>
      </div>
      <div class="col-6">
        <div class="card">
          <h2 class="text-lg font-semibold mb-2">WHO‑5 vs IHS (scatter)</h2>
          <canvas id="who5VsIhs"></canvas>
        </div>
      </div>
      <div class="col-6">
        <div class="card">
          <h2 class="text-lg font-semibold mb-2">SWLS vs IHS (scatter)</h2>
          <canvas id="swlsVsIhs"></canvas>
        </div>
      </div>
      <div class="col-12">
        <div class="card">
          <div class="grid">
            <div class="col-6">
              <div id="statsWho5" class="text-sm"></div>
            </div>
            <div class="col-6">
              <div id="statsSwls" class="text-sm"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-12">
        <div class="card">
          <div class="flex items-center justify-between mb-2">
            <h2 class="text-lg font-semibold">Latest Entries</h2>
            <label class="text-sm opacity-80">Limit <input id="limitInput" type="number" value="200" class="border rounded px-2 py-1 w-20"></label>
          </div>
          <div style="overflow:auto; max-height: 420px;">
            <table id="resultsTable">
              <thead><tr><th>ID</th><th>Created</th><th>Session</th><th>WHO‑5</th><th>SWLS</th><th>IHS</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jstat@1.9.6/dist/jstat.min.js"></script>
  <script src="scripts/research-results.js" defer></script>
  </body>
  </html>


